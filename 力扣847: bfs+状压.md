# 力扣847. 访问所有节点的最短路径

## 状态压缩
## bfs

```cpp
struct state{
    int mask,i,dep;
    state(int mask,int i,int dep):mask(mask),i(i),dep(dep){}
};

class Solution {
public:
    int shortestPathLength(vector<vector<int>>& adj) {
        const int n=adj.size(),end=(1<<n)-1;
        queue<state>q;
        vector<vector<bool>>vis(1<<n,vector<bool>(n,0));
        for(int i=0;i<n;i++)
            q.push(state(1<<i,i,0)),
            vis[1<<i][i]=0;
        while(!q.empty()){
            auto s=q.front();q.pop();
            auto dep=s.dep;
            for(int i:adj[s.i]){                
                int mask=s.mask|(1<<i);
                if(mask==end)return dep+1;
                if(!vis[mask][i])
                    vis[mask][i]=1,
                    q.push(state(mask,i,dep+1));
            }
        }
        return 0;
    }
};
```
